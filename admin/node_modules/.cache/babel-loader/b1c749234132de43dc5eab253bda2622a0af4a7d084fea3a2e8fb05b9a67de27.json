{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useCallback, useRef, useEffect } from 'react';\nimport useCallbackRef from './useCallbackRef';\nfunction useUncontrolledState({\n  defaultProp,\n  onChange\n}) {\n  _s();\n  const uncontrolledState = useState(defaultProp);\n  const [value] = uncontrolledState;\n  const prevValueRef = useRef(value);\n  const handleChange = useCallbackRef(onChange);\n  useEffect(() => {\n    if (prevValueRef.current !== value) {\n      handleChange(value);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef, handleChange]);\n  return uncontrolledState;\n}\n_s(useUncontrolledState, \"WYmWcqnKHe65L/fGBBy1wqlZl58=\", false, function () {\n  return [useCallbackRef];\n});\nfunction useControllableState({\n  prop,\n  defaultProp,\n  onChange = () => {}\n}) {\n  _s2();\n  const [uncontrolledProp, setUncontrolledProp] = useUncontrolledState({\n    defaultProp,\n    onChange\n  });\n  const isControlled = prop !== undefined;\n  const value = isControlled ? prop : uncontrolledProp;\n  const handleChange = useCallbackRef(onChange);\n  const setValue = useCallback(nextValue => {\n    const setter = nextValue;\n    if (isControlled) {\n      const value = typeof nextValue === 'function' ? setter(prop) : nextValue;\n      if (value !== prop) {\n        handleChange(value);\n      }\n    } else {\n      setUncontrolledProp(nextValue);\n    }\n  }, [isControlled, prop, setUncontrolledProp, handleChange]);\n  return [value, setValue];\n}\n_s2(useControllableState, \"pnf37/jPbWy5FyBo0SyW8qgIfGA=\", false, function () {\n  return [useUncontrolledState, useCallbackRef];\n});\nexport default useControllableState;","map":{"version":3,"names":["useState","useCallback","useRef","useEffect","useCallbackRef","useUncontrolledState","defaultProp","onChange","_s","uncontrolledState","value","prevValueRef","handleChange","current","useControllableState","prop","_s2","uncontrolledProp","setUncontrolledProp","isControlled","undefined","setValue","nextValue","setter"],"sources":["C:/Projects/task-app/admin/src/components/ui/hooks/useControllableState.js"],"sourcesContent":["import { useState, useCallback, useRef, useEffect } from 'react'\nimport useCallbackRef from './useCallbackRef'\n\nfunction useUncontrolledState ({ defaultProp, onChange }) {\n    const uncontrolledState = useState(defaultProp)\n    const [value] = uncontrolledState\n    const prevValueRef = useRef(value)\n    const handleChange = useCallbackRef(onChange)\n  \n    useEffect(() => {\n        if (prevValueRef.current !== value) {\n            handleChange(value)\n            prevValueRef.current = value\n        }\n    }, [value, prevValueRef, handleChange])\n  \n    return uncontrolledState\n}\n\nfunction useControllableState({ prop, defaultProp, onChange = () => {} }) {\n    const [uncontrolledProp, setUncontrolledProp] = useUncontrolledState({ defaultProp, onChange })\n    const isControlled = prop !== undefined\n    const value = isControlled ? prop : uncontrolledProp\n    const handleChange = useCallbackRef(onChange)\n  \n    const setValue = useCallback(\n        (nextValue) => {\n           \n            const setter = nextValue\n            if (isControlled) {\n                const value = typeof nextValue === 'function' ? setter(prop) : nextValue\n                if (value !== prop) {\n                    handleChange(value)\n                }\n            } else {\n                setUncontrolledProp(nextValue)\n            }\n        },\n        [isControlled, prop, setUncontrolledProp, handleChange]\n    )\n  \n    return [value, setValue]\n}\n\nexport default useControllableState"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,WAAW,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAChE,OAAOC,cAAc,MAAM,kBAAkB;AAE7C,SAASC,oBAAoBA,CAAE;EAAEC,WAAW;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACtD,MAAMC,iBAAiB,GAAGT,QAAQ,CAACM,WAAW,CAAC;EAC/C,MAAM,CAACI,KAAK,CAAC,GAAGD,iBAAiB;EACjC,MAAME,YAAY,GAAGT,MAAM,CAACQ,KAAK,CAAC;EAClC,MAAME,YAAY,GAAGR,cAAc,CAACG,QAAQ,CAAC;EAE7CJ,SAAS,CAAC,MAAM;IACZ,IAAIQ,YAAY,CAACE,OAAO,KAAKH,KAAK,EAAE;MAChCE,YAAY,CAACF,KAAK,CAAC;MACnBC,YAAY,CAACE,OAAO,GAAGH,KAAK;IAChC;EACJ,CAAC,EAAE,CAACA,KAAK,EAAEC,YAAY,EAAEC,YAAY,CAAC,CAAC;EAEvC,OAAOH,iBAAiB;AAC5B;AAACD,EAAA,CAdQH,oBAAoB;EAAA,QAIJD,cAAc;AAAA;AAYvC,SAASU,oBAAoBA,CAAC;EAAEC,IAAI;EAAET,WAAW;EAAEC,QAAQ,GAAGA,CAAA,KAAM,CAAC;AAAE,CAAC,EAAE;EAAAS,GAAA;EACtE,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGb,oBAAoB,CAAC;IAAEC,WAAW;IAAEC;EAAS,CAAC,CAAC;EAC/F,MAAMY,YAAY,GAAGJ,IAAI,KAAKK,SAAS;EACvC,MAAMV,KAAK,GAAGS,YAAY,GAAGJ,IAAI,GAAGE,gBAAgB;EACpD,MAAML,YAAY,GAAGR,cAAc,CAACG,QAAQ,CAAC;EAE7C,MAAMc,QAAQ,GAAGpB,WAAW,CACvBqB,SAAS,IAAK;IAEX,MAAMC,MAAM,GAAGD,SAAS;IACxB,IAAIH,YAAY,EAAE;MACd,MAAMT,KAAK,GAAG,OAAOY,SAAS,KAAK,UAAU,GAAGC,MAAM,CAACR,IAAI,CAAC,GAAGO,SAAS;MACxE,IAAIZ,KAAK,KAAKK,IAAI,EAAE;QAChBH,YAAY,CAACF,KAAK,CAAC;MACvB;IACJ,CAAC,MAAM;MACHQ,mBAAmB,CAACI,SAAS,CAAC;IAClC;EACJ,CAAC,EACD,CAACH,YAAY,EAAEJ,IAAI,EAAEG,mBAAmB,EAAEN,YAAY,CAC1D,CAAC;EAED,OAAO,CAACF,KAAK,EAAEW,QAAQ,CAAC;AAC5B;AAACL,GAAA,CAvBQF,oBAAoB;EAAA,QACuBT,oBAAoB,EAG/CD,cAAc;AAAA;AAqBvC,eAAeU,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}