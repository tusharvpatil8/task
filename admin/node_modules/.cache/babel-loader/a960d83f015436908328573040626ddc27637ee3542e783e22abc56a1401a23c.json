{"ast":null,"code":"import ToastWrapper, { toastDefaultProps } from './ToastWrapper';\nconst defaultWrapperId = 'default';\nconst wrappers = new Map();\nfunction castPlacment(placement) {\n  if (/\\top\\b/.test(placement)) {\n    return 'top-full';\n  }\n  if (/\\bottom\\b/.test(placement)) {\n    return 'bottom-full';\n  }\n}\nasync function createWrapper(wrapperId, props) {\n  const [wrapper] = await ToastWrapper.getInstance(props);\n  wrappers.set(wrapperId || defaultWrapperId, wrapper);\n  return wrapper;\n}\nfunction getWrapper(wrapperId) {\n  if (wrappers.size === 0) {\n    return null;\n  }\n  return wrappers.get(wrapperId || defaultWrapperId);\n}\nconst toast = message => toast.push(message);\ntoast.push = (message, options = toastDefaultProps) => {\n  var _id;\n  let id = options.placement;\n  if (options.block) {\n    id = castPlacment(options.placement);\n  }\n  let wrapper = getWrapper(id);\n  if (wrapper !== null && wrapper !== void 0 && wrapper.current) {\n    return wrapper.current.push(message);\n  }\n  return createWrapper((_id = id) !== null && _id !== void 0 ? _id : '', options).then(ref => {\n    var _ref$current;\n    return (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.push(message);\n  });\n};\ntoast.remove = key => {\n  wrappers.forEach(elm => elm.current.remove(key));\n};\ntoast.removeAll = () => {\n  wrappers.forEach(elm => elm.current.removeAll());\n};\nexport default toast;","map":{"version":3,"names":["ToastWrapper","toastDefaultProps","defaultWrapperId","wrappers","Map","castPlacment","placement","test","createWrapper","wrapperId","props","wrapper","getInstance","set","getWrapper","size","get","toast","message","push","options","_id","id","block","current","then","ref","_ref$current","remove","key","forEach","elm","removeAll"],"sources":["C:/Projects/task-app/admin/src/components/ui/toast/toast.js"],"sourcesContent":["import ToastWrapper, { toastDefaultProps } from './ToastWrapper'\n\nconst defaultWrapperId = 'default'\nconst wrappers = new Map()\n\nfunction castPlacment (placement) {\n    if (/\\top\\b/.test(placement)) {\n        return 'top-full'\n    }\n\n    if (/\\bottom\\b/.test(placement)) {\n        return 'bottom-full'\n    }\n}\n\nasync function createWrapper(wrapperId, props) {\n\n    const [ wrapper ] = await ToastWrapper.getInstance(props)\n\n    wrappers.set(wrapperId || defaultWrapperId, wrapper)\n\n    return wrapper\n}\n\nfunction getWrapper(wrapperId) {\n    if (wrappers.size === 0) {\n        return null\n    }\n    return wrappers.get(wrapperId || defaultWrapperId)\n}\n\nconst toast = (message) => toast.push(message)\n\ntoast.push = (message, options = toastDefaultProps) => {\n    \n    let id = options.placement\n    if (options.block) {\n        id = castPlacment(options.placement)\n    }\n\n    let wrapper = getWrapper(id)\n\n    if (wrapper?.current) {\n        return wrapper.current.push(message)\n    }\n\n    return createWrapper(id ?? '', options).then(ref => {\n        return ref.current?.push(message)\n    })\n}\n\ntoast.remove = (key) => {\n    wrappers.forEach(elm => elm.current.remove(key))\n}\n\ntoast.removeAll = () => {\n    wrappers.forEach(elm => elm.current.removeAll())\n}\n\nexport default toast"],"mappings":"AAAA,OAAOA,YAAY,IAAIC,iBAAiB,QAAQ,gBAAgB;AAEhE,MAAMC,gBAAgB,GAAG,SAAS;AAClC,MAAMC,QAAQ,GAAG,IAAIC,GAAG,CAAC,CAAC;AAE1B,SAASC,YAAYA,CAAEC,SAAS,EAAE;EAC9B,IAAI,QAAQ,CAACC,IAAI,CAACD,SAAS,CAAC,EAAE;IAC1B,OAAO,UAAU;EACrB;EAEA,IAAI,WAAW,CAACC,IAAI,CAACD,SAAS,CAAC,EAAE;IAC7B,OAAO,aAAa;EACxB;AACJ;AAEA,eAAeE,aAAaA,CAACC,SAAS,EAAEC,KAAK,EAAE;EAE3C,MAAM,CAAEC,OAAO,CAAE,GAAG,MAAMX,YAAY,CAACY,WAAW,CAACF,KAAK,CAAC;EAEzDP,QAAQ,CAACU,GAAG,CAACJ,SAAS,IAAIP,gBAAgB,EAAES,OAAO,CAAC;EAEpD,OAAOA,OAAO;AAClB;AAEA,SAASG,UAAUA,CAACL,SAAS,EAAE;EAC3B,IAAIN,QAAQ,CAACY,IAAI,KAAK,CAAC,EAAE;IACrB,OAAO,IAAI;EACf;EACA,OAAOZ,QAAQ,CAACa,GAAG,CAACP,SAAS,IAAIP,gBAAgB,CAAC;AACtD;AAEA,MAAMe,KAAK,GAAIC,OAAO,IAAKD,KAAK,CAACE,IAAI,CAACD,OAAO,CAAC;AAE9CD,KAAK,CAACE,IAAI,GAAG,CAACD,OAAO,EAAEE,OAAO,GAAGnB,iBAAiB,KAAK;EAAA,IAAAoB,GAAA;EAEnD,IAAIC,EAAE,GAAGF,OAAO,CAACd,SAAS;EAC1B,IAAIc,OAAO,CAACG,KAAK,EAAE;IACfD,EAAE,GAAGjB,YAAY,CAACe,OAAO,CAACd,SAAS,CAAC;EACxC;EAEA,IAAIK,OAAO,GAAGG,UAAU,CAACQ,EAAE,CAAC;EAE5B,IAAIX,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEa,OAAO,EAAE;IAClB,OAAOb,OAAO,CAACa,OAAO,CAACL,IAAI,CAACD,OAAO,CAAC;EACxC;EAEA,OAAOV,aAAa,EAAAa,GAAA,GAACC,EAAE,cAAAD,GAAA,cAAAA,GAAA,GAAI,EAAE,EAAED,OAAO,CAAC,CAACK,IAAI,CAACC,GAAG,IAAI;IAAA,IAAAC,YAAA;IAChD,QAAAA,YAAA,GAAOD,GAAG,CAACF,OAAO,cAAAG,YAAA,uBAAXA,YAAA,CAAaR,IAAI,CAACD,OAAO,CAAC;EACrC,CAAC,CAAC;AACN,CAAC;AAEDD,KAAK,CAACW,MAAM,GAAIC,GAAG,IAAK;EACpB1B,QAAQ,CAAC2B,OAAO,CAACC,GAAG,IAAIA,GAAG,CAACP,OAAO,CAACI,MAAM,CAACC,GAAG,CAAC,CAAC;AACpD,CAAC;AAEDZ,KAAK,CAACe,SAAS,GAAG,MAAM;EACpB7B,QAAQ,CAAC2B,OAAO,CAACC,GAAG,IAAIA,GAAG,CAACP,OAAO,CAACQ,SAAS,CAAC,CAAC,CAAC;AACpD,CAAC;AAED,eAAef,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}